<!DOCTYPE html>
<html>
  <body>

<!-- from https://developers.facebook.com/docs/plugins/embedded-video-player/ -->

  <div id="fb-root"></div>
  <script async defer src="https://connect.facebook.net/en_US/sdk.js"></script>

  <!-- dpq home made div of constant size to avoid FB.XFBML.parse(); visual resize upon reloading -->
  <div style="display:block; width:100%; height:316px; background-color:#d8dbda;">

    <!-- Your embedded video player code -->
    <div id="fb-div" class="fb-video" data-href="https://www.facebook.com/lam.dalembert.upmc/videos/1014162432096448/" data-width="560" data-show-text="false">
    </div>
  
  </div>

  <form method="post">
    <input name="videoSwitch" type="radio" onclick="onInput(1)" />cloud theatre
    <input name="videoSwitch" type="radio" onclick="onInput(2)" />ghost orchestra
  </form>

  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v3.3"></script>

  <!-- Load Facebook SDK for JavaScript -->
  <script>

      // var my_video_player;
      // var currentPos = 0;
      // 
      // window.fbAsyncInit = function() {
      //   FB.init({
      //     appId      : '{your-app-id}',
      //     xfbml      : true,
      //     version    : 'v3.2'
      //   });
      
      //   // Get Embedded Video Player API Instance
        
      //   FB.Event.subscribe('xfbml.ready', function(msg) {
      //     if (msg.type === 'video') {
      //       my_video_player = msg.instance;
      //       console.log(currentPos);
      //       my_video_player.play();
      //       my_video_player.seek(currentPos);
      //     }
      //   });
      // };

      function onInput(val){
        // define new video url
        
        var div = document.getElementById("fb-div");
        
        var videoId;
        if( val == 1 ){ 
            videoId = 'https://www.facebook.com/lam.dalembert.upmc/videos/1014162432096448/';
        }
        else{ 
          videoId = 'https://www.facebook.com/lam.dalembert.upmc/videos/1007673762745315/'; 
        }
        
        // currentPos = my_video_player.getCurrentPosition()

        div.setAttribute("data-href", videoId);
        console.log (div);

        // reload changed element (not functional somehow)
        // FB.XFBML.parse(div);

        // reload whole elments concerned by XFBML
        FB.XFBML.parse();

        // // get current time for seamless transition
        // var currentTime = player.getCurrentTime();
        // player.loadVideoById({'videoId': videoId,
        //        'startSeconds': currentTime,
        //        'suggestedQuality': 'large'});
        // console.log(val)
      }

  </script>

  <!--   <script>
      // 2. This code loads the IFrame Player API code asynchronously.
      var tag = document.createElement('script');

      tag.src = "https://www.youtube.com/iframe_api";
      var firstScriptTag = document.getElementsByTagName('script')[0];
      firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

      // 3. This function creates an <iframe> (and YouTube player)
      //    after the API code downloads.
      var player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player('player', {
          height: '360',
          width: '640',
          videoId: 'IBNP_Wk3vVc',
          events: {
            'onReady': onPlayerReady,
            'onStateChange': onPlayerStateChange
          }
        });
      }

      // 4. The API will call this function when the video player is ready.
      function onPlayerReady(event) {
        // event.target.playVideo();
      }

      // 5. The API calls this function when the player's state changes.
      function onPlayerStateChange(event) {
      }

      function onInput(val){
        // define new video url
        var videoId;
        if( val == 1 ){ videoId = 'IBNP_Wk3vVc';}
        else{ videoId = 'zk1us0NYfug'; }
        // get current time for seamless transition
        var currentTime = player.getCurrentTime();
        player.loadVideoById({'videoId': videoId,
               'startSeconds': currentTime,
               'suggestedQuality': 'large'});
        console.log(val)
      }
    </script> -->
    
  </body>
</html>




